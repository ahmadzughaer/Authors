(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(t,e,c){},24:function(t,e,c){},51:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),a=c(17),r=c.n(a),o=(c(23),c(24),c(25),c(2)),i=c(4),l=c(5),j=c.n(l),b=c(0),u=function(t){var e=Object(n.useState)([]),c=Object(i.a)(e,2),s=c[0],a=c[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/author").then((function(t){return a(t.data)})).catch((function(t){return console.log("There was an issue: ",t)}))}));return Object(b.jsxs)("div",{className:"container",children:[s.length>0&&s.map((function(t,e){return Object(b.jsxs)("div",{children:[t.name,Object(b.jsx)("button",{onClick:function(e){var c;c=t._id,j.a.delete("http://localhost:8000/api/author/"+c).then((function(t){console.log(t)}))},children:"Delete"}),Object(b.jsx)("button",{children:Object(b.jsx)(o.a,{to:(c=t,"/".concat(c._id)),children:"Edit"})})]},e);var c})),Object(b.jsx)("input",{type:"button",value:"Add New Author",onClick:function(){Object(o.c)("/new")}})]})},h=function(t){var e=Object(n.useState)(""),c=Object(i.a)(e,2),s=c[0],a=c[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),u=l[0],h=l[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[u.map((function(t,e){return Object(b.jsx)("small",{style:{color:"red"},children:t},e)})),Object(b.jsx)("p",{children:Object(b.jsx)(o.a,{to:"/",children:"Home"})}),Object(b.jsx)("p",{children:"Add a new author:\xa0"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.post("http://localhost:8000/api/author",{name:s}).then((function(){return Object(o.c)("/")})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];c.push(e[a].message)}h(c)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{onChange:function(t){return a(t.target.value)},type:"text",className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(o.c)("/")},type:"button",className:"btn btn-secondary btn-sm",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm",style:{marginLeft:"10px"},children:"Submit"})]})]})})})]})},d=function(t){var e=t.id,c=Object(n.useState)({}),s=Object(i.a)(c,2),a=s[0],r=s[1],l=Object(n.useState)(!0),u=Object(i.a)(l,2),h=u[0],d=u[1],O=Object(n.useState)(""),m=Object(i.a)(O,2),x=m[0],p=m[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),g=v[0],N=v[1],y=Object(n.useState)(),w=Object(i.a)(y,2),S=w[0],C=w[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/author/".concat(e)).then((function(t){return r(t.data[0])})).catch((function(t){console.log("There was an issue, ",t),d(!1)}))}),[]),console.log("data.Auth"),console.log(a.name);return!1===h?Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-8 offset-2 text-center",style:{marginTop:"200px"},children:[Object(b.jsx)("h3",{children:"Oops. That author doesn't exists."}),Object(b.jsx)("p",{children:Object(b.jsx)(o.a,{to:"/new",children:"Would you like to add this author?"})})]})})}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(o.a,{to:"/",children:"Home"})}),Object(b.jsxs)("p",{children:["Edit this author:\xa0",g.map((function(t,e){return Object(b.jsx)("small",{style:{color:"red"},children:t},e)}))]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("http://localhost:8000/api/author/".concat(e),{name:x}).then((function(){return Object(o.c)("/")})).catch((function(t){C(t.response.data[0]);for(var e=S.errors,c=[],n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];c.push(e[a].message)}N(c)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{onChange:function(t){return p(t.target.value)},type:"text",placeholder:a.name,className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(o.c)("/")},type:"button",className:"btn btn-secondary btn-sm",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm",style:{marginLeft:"10px"},children:"Submit"})]})]})})})]})};var O=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.b,{children:[Object(b.jsx)(u,{path:"/"}),Object(b.jsx)(h,{path:"/new"}),Object(b.jsx)(d,{path:"/:id"})]})})},m=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,a=e.getLCP,r=e.getTTFB;c(t),n(t),s(t),a(t),r(t)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),m()}},[[51,1,2]]]);
//# sourceMappingURL=main.915f444a.chunk.js.map